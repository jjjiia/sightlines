<!DOCTYPE html>
<html>
  <head>
	  <meta charset="UTF-8">
	  
	<title>sightlines</title>
  <link rel="apple-touch-icon-precomposed" sizes="57x57" href="57.png" />
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="72.png" />
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="114.png" />
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="144.png" />
	<script src="static/javascripts/d3.v4.min.js"></script>
	<script src="static/javascripts/topojson.v1.min.js"></script>
  
	<script src="static/javascripts/jquery.min.js"></script>
	<script src="static/javascripts/d3.tip.v0.6.3.js"></script>
    <script src="static/javascripts/queue.v1.min.js"></script>
	<script src="static/javascripts/jquery-ui.min.js"></script>
	<link rel="stylesheet" href="static/stylesheets/jquery-ui.css" />
	<link rel="stylesheet" href="static/bootstrap-3.1.1-dist/css/bootstrap.min.css">
	<script src="static/javascripts/jquery-ui.min.js"></script>
	<link href="static/bootstrap-3.1.1-dist/css/bootstrap-glyphicons.css" rel="stylesheet">
	<script src="http://d3js.org/topojson.v0.min.js"></script>

  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.21.0/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.21.0/mapbox-gl.css' rel='stylesheet' />
<script src="https://cdn.rawgit.com/devTristan/pbf/master/dist/pbf.min.js"></script>
<script src="https://rawgit.com/devTristan/vector-tile-js/master/dist/vectortile.min.js"></script>
<script src="//d3js.org/d3-tile.v0.0.min.js"></script>
  <link rel="stylesheet" type="text/css" href="static/stylesheets/style.css"> </style>
	
  <script type="text/javascript" src="//ajax.aspnetcdn.com/ajax/jquery.ui/1.8.10/jquery-ui.min.js"></script>
  
</head>

<body>
  <div id = "title">
    sightlines*
</div>
<div class="col-md-4" id = "subtitle">
  <span style="color:red;"><p>*work in progress</p></span>
  <strong><p>
  This map applies public data to the act of seeing. It uses data on the elevation and footprints of buildings in New York City to calculate which rooftops have sightlines to the Statue of Liberty. </p>
  <p>
  In ideal conditions, sightlines are reciprocal. For the purposes of this experiment, we say that the rooftops that have views of the statue also compose the view from the statue. Buildings visible from the statue are seen through the lens of demographic data here to show what is in the view.</p></strong>
  <p><strong>Data sources:</strong><br/>
  Building Footprints for New York City(Last Update: 03/15/2017) <br/>
  https://data.cityofnewyork.us/Housing-Development/Building-Footprints/nqwf-w8eh</p>
  <p>Basemap map tiles:<br/>
  Open Street Map Roads Layer provided by mapzen vector tile service</p>
  <p>Statue of liberty:<br/>
  https://en.wikipedia.org/wiki/Statue_of_Liberty#Physical_characteristics</p>
  <p><strong>Current Method:</strong><br/>
  Step 1: For each building, generate 20 random points within the footprint.<br/>
  Step 2: For each point, draw line between point and the statue. <br/>
  Step 3: For each line, determine if  other building polygons intersects it.<br/>
  Step 4: For each intersection, determine if the building polygon is tall enough to block the view of the origin building.
  </p>
</div>
<div class="row">
       <div class="col-md-4" id = "info">
         <br/>
         <br/>
         <br/>
         <br/>
         <br/>
         
       </div>
       <div class="col-md-4" id = "buildingInfo">
         <br/>Rollover buildings to see id and elevation
         <br/>
         <br/>
         <br/>
         <br/>
       </div>
 </div>
 <div class="row">
<div class="col-md-10" id = "map"></div>
 </div>


<script type="text/javascript">
  //"simplified.geojson"//

//    http://www.socialexplorer.com/pub/reportdata/HtmlResults.aspx?reportid=R11481411
</script>
	
<!--<script src="statenislandoutput.js"></script>-->
<script src="sightlines.js"></script>
	
</body>
</html>